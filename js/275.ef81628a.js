"use strict";(self["webpackChunkInstagram_vue"]=self["webpackChunkInstagram_vue"]||[]).push([[275],{275:function(t,e,s){s.r(e),s.d(e,{default:function(){return G}});var a=s(252),o=s(577);const i={class:"container"},n={class:"home"},l={class:"home__left"},r={key:0,class:"feed"},c={key:1},p={class:"home__right"},u={class:"suggestions"},m={class:"profile-link__info"},d=["src"],_=(0,a._)("button",null,[(0,a._)("svg",{width:"24",height:"24","aria-hidden":"true",role:"img"},[(0,a._)("use",{"xlink:href":"#arrow-icon"})])],-1),k={class:"suggestions__users"},g=["src"],h=["onClick"],w={key:0},D={key:1};function f(t,e,s,f,v,C){const I=(0,a.up)("PostCard"),b=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("section",n,[(0,a._)("aside",l,[t.getFeedData.length?((0,a.wg)(),(0,a.iD)("div",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.getFeedData,(t=>((0,a.wg)(),(0,a.j4)(I,{key:t.postId,postData:t},null,8,["postData"])))),128))])):((0,a.wg)(),(0,a.iD)("h2",c,"It's nothing to show. Try to follow someone"))]),(0,a._)("aside",p,[(0,a._)("div",u,[(0,a.Wm)(b,{to:`/profile/${t.getCurrentUserData.nickname}`,class:"profile-link"},{default:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a._)("img",{src:t.getCurrentUserData.avatar,alt:"user-avatar"},null,8,d),(0,a._)("p",null,(0,o.zw)(t.getCurrentUserData.nickname),1)]),_])),_:1},8,["to"]),(0,a._)("div",k,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.getUsersData,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:(0,o.C_)(["user",{deleteDOM:e.nickname===t.getCurrentUserData.nickname}])},[(0,a.Wm)(b,{to:`/profile/${e.nickname}`,class:"user__info"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:e.avatar,alt:"user-avatar"},null,8,g),(0,a._)("p",null,(0,o.zw)(e.nickname),1)])),_:2},1032,["to"]),(0,a._)("button",{onClick:s=>t.followUser(e.nickname),class:(0,o.C_)([{unfollow:!C.checkFollow(e.nickname)},"follow"])},[C.checkFollow(e.nickname)?((0,a.wg)(),(0,a.iD)("span",w,"Follow")):((0,a.wg)(),(0,a.iD)("span",D,"Unfollow"))],10,h)],2)))),128))])])])])])}const v={class:"post"},C={class:"post__header"},I=["src"],b={class:"date"},U=["src"],z={class:"bar"},y=(0,a._)("use",{"xlink:href":"#like-icon"},null,-1),L=[y],x=(0,a._)("svg",{width:"24",height:"24","aria-hidden":"true",role:"img"},[(0,a._)("use",{"xlink:href":"#comment-icon"})],-1),S=(0,a._)("use",{"xlink:href":"#save-icon"},null,-1),W=[S],F={class:"post__footer"},P={class:"likes"},O={class:"description"},$={class:"comments"},H=["onClick"],A=(0,a._)("use",{"xlink:href":"#like-icon"},null,-1),K=[A];function Y(t,e,s,i,n,l){const r=(0,a.up)("router-link"),c=(0,a.up)("swiper-slide"),p=(0,a.up)("swiper");return(0,a.wg)(),(0,a.iD)("div",v,[(0,a._)("div",C,[(0,a.Wm)(r,{to:"/profile/"+s.postData.author,class:"author"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:s.postData.avatar,alt:"author"},null,8,I),(0,a._)("p",null,(0,o.zw)(s.postData.author),1)])),_:1},8,["to"]),(0,a._)("p",b,(0,o.zw)(s.postData.post.postDate),1)]),(0,a.Wm)(p,{class:(0,o.C_)(["swiper",{"swiper_hidden-pagination":s.postData.post.postImages.length<2}]),modules:i.modules,"slides-per-view":1,"space-between":50,navigation:"",pagination:{clickable:!0},resizeObserver:!0,keyboard:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.postData.post.postImages,(t=>((0,a.wg)(),(0,a.j4)(c,{key:t},{default:(0,a.w5)((()=>[(0,a._)("img",{src:t,alt:"post"},null,8,U)])),_:2},1024)))),128))])),_:1},8,["class","modules"]),(0,a._)("div",z,[(0,a._)("button",{onClick:e[0]||(e[0]=e=>t.postLike(s.postData.post.postId)),class:"bar__item","aria-label":"Like post"},[((0,a.wg)(),(0,a.iD)("svg",{class:(0,o.C_)([{like_active:l.likeCheck(s.postData.post)},"like"]),width:"26",height:"24","aria-hidden":"true",role:"img"},L,2))]),(0,a.Wm)(r,{to:`/post/${s.postData.author}/${s.postData.post.postId}`,class:"bar__item","aria-label":"Comment post"},{default:(0,a.w5)((()=>[x])),_:1},8,["to"]),(0,a._)("button",{onClick:e[1]||(e[1]=e=>t.postSave(s.postData.post.postId)),class:"bar__item","aria-label":"Comment post"},[((0,a.wg)(),(0,a.iD)("svg",{class:(0,o.C_)({save_active:l.saveCheck(s.postData.post.postId)}),width:"24",height:"24","aria-hidden":"true",role:"img"},W,2))])]),(0,a._)("div",F,[(0,a._)("p",P,(0,o.zw)(s.postData.post.postLikes.length.toString())+" likes",1),(0,a._)("p",O,[(0,a.Wm)(r,{to:"/profile/"+s.postData.author},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(s.postData.author),1)])),_:1},8,["to"]),(0,a.Uk)(" "+(0,o.zw)(s.postData.post.postDescription),1)]),(0,a.Wm)(r,{class:"view",to:`/post/${s.postData.author}/${s.postData.post.postId}`},{default:(0,a.w5)((()=>[(0,a.Uk)(" View "+(0,o.zw)(s.postData.post.postComments.length.toString())+" comment(s) ",1)])),_:1},8,["to"]),(0,a._)("div",$,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.postData.post.postComments,((e,s)=>((0,a.wg)(),(0,a.iD)("div",{key:e.commentId,class:(0,o.C_)(["comments__item",{deleteDOM:s>=3}])},[(0,a._)("div",null,[(0,a.Wm)(r,{to:"/profile/"+e.commentAuthor},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,o.zw)(e.commentAuthor)+":",1),(0,a.Uk)(" "+(0,o.zw)(e.commentText),1)])),_:2},1032,["to"]),(0,a._)("button",{onClick:s=>t.commentLike(e.commentId),class:"likes"},[((0,a.wg)(),(0,a.iD)("svg",{class:(0,o.C_)(["like",{like_active:l.commentLikeCheck(e.commentId)}]),width:"14",height:"12","aria-hidden":"true",role:"img"},K,2)),(0,a._)("span",null,(0,o.zw)(e.commentLikes.length.toString())+" likes",1)],8,H)])],2)))),128))])])])}var j=s(911),q=s(181),E=s(907),M={name:"PostCard",components:{Swiper:q.tq,SwiperSlide:q.o5},props:{postData:{type:Object,required:!0}},methods:{...(0,E.OI)(["postLike","postSave","commentLike"]),likeCheck(t){return-1!==t.postLikes.findIndex((t=>t===this.getCurrentUserData.nickname))},saveCheck(t){return-1!==this.getCurrentUserData.savedPosts.findIndex((e=>e===t))},commentLikeCheck(t){let e=!0;return this.getAllPosts.forEach((s=>{s.post.postComments.forEach((s=>{let a=s.commentLikes.findIndex((t=>t===this.getCurrentUserData.nickname));s.commentId===t&&-1===a&&(e=!1)}))})),e}},computed:{...(0,E.Se)(["getCurrentUserData","getAllPosts"])},setup(){return{modules:[j.W_,j.tl,j.N1]}}},T=s(744);const Z=(0,T.Z)(M,[["render",Y]]);var N=Z,V={name:"HomePage",components:{PostCard:N},methods:{...(0,E.nv)(["fetchData"]),...(0,E.OI)(["followUser"]),checkFollow(t){return-1===this.getCurrentUserData.follows.findIndex((e=>e===t))}},computed:{...(0,E.Se)(["getFeedData","getCurrentUserData","getUsersData"])},mounted(){this.fetchData()}};const B=(0,T.Z)(V,[["render",f]]);var G=B}}]);
//# sourceMappingURL=275.ef81628a.js.map