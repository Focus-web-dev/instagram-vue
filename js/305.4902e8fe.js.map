{"version":3,"file":"js/305.4902e8fe.js","mappings":"6MACOA,MAAM,a,SACJA,MAAM,a,GACJA,MAAM,sB,aAmBNA,MAAM,mB,GAKFA,MAAM,sB,aAIXC,EAAAA,EAAAA,GAEM,OAFDC,MAAM,KAAKC,OAAO,KAAK,cAAY,OAAOC,KAAK,OAApD,EACEH,EAAAA,EAAAA,GAAoC,OAA/B,aAAW,kBADlB,G,GAKGD,MAAM,Y,SAELA,MAAM,UAENK,MAAA,0B,qCAyCEJ,EAAAA,EAAAA,GAAmC,OAA9B,aAAW,cAAY,S,GAA5BK,G,GAOHN,MAAM,mB,GACJA,MAAM,O,GAcLC,EAAAA,EAAAA,GAAmC,OAA9B,aAAW,cAAY,S,GAA5BM,G,GAWFN,EAAAA,EAAAA,GAEM,OAFDC,MAAM,KAAKC,OAAO,KAAK,cAAY,OAAOC,KAAK,OAApD,EACEH,EAAAA,EAAAA,GAAsC,OAAjC,aAAW,oBADlB,G,GAkBEA,EAAAA,EAAAA,GAAmC,OAA9B,aAAW,cAAY,S,GAA5BO,G,GAKDR,MAAM,Q,0HAxInBS,EAAAA,EAAAA,IAuJM,MAvJN,EAuJM,CAtJyBC,EAAAA,SAASC,OAAAA,EAAAA,EAAAA,OAAtCF,EAAAA,EAAAA,IAqJM,MArJN,EAqJM,EApJJR,EAAAA,EAAAA,GAiBM,MAjBN,EAiBM,EAhBJW,EAAAA,EAAAA,IAeSC,EAAA,CAfDb,OAAK,SAAC,SAAQ,4BACuBU,EAAAA,SAASC,KAAKG,WAAWC,OAAM,KACnEC,QAASC,EAAAA,QACT,kBAAiB,EACjB,gBAAe,GAChBC,WAAA,GACCC,WAAY,CAAAC,WAAAA,GACbC,SAAA,IAPR,C,kBAUM,IAAyC,gBAD7CZ,EAAAA,EAAAA,IAKea,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJKb,EAAAA,SAASC,KAAKG,YAAvBU,K,WADXC,EAAAA,EAAAA,IAKeC,EAAA,CAHVC,IAAKH,GAAK,C,kBAEb,IAA6B,EAA7BvB,EAAAA,EAAAA,GAA6B,OAAvB2B,IAAKJ,EAAOK,IAAI,QAAtB,a,KAJF,kB,KATF,0BAkBF5B,EAAAA,EAAAA,GAgIM,MAhIN,EAgIM,EA/HJW,EAAAA,EAAAA,IAWckB,EAAA,CAVTC,GAAE,iBAAmBC,OAAOC,OAAOC,WACpClC,MAAM,gBAFV,C,kBAIE,IAGM,EAHNC,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJA,EAAAA,EAAAA,GAAoD,OAA9C2B,IAAKlB,EAAAA,SAASyB,aAAcN,IAAI,eAAtC,WACA5B,EAAAA,EAAAA,GAA4B,UAAAmC,EAAAA,EAAAA,IAAtB1B,EAAAA,SAAS2B,QAAM,KAEvBC,K,KARF,WAaArC,EAAAA,EAAAA,GAkDM,MAlDN,EAkDM,CA/CmC,KAA7BS,EAAAA,SAASC,KAAK4B,kBAAe,WAFvC9B,EAAAA,EAAAA,IAmBM,MAnBN,EAmBM,EAdJG,EAAAA,EAAAA,IAWckB,EAAA,CAVTC,GAAE,iBAAmBC,OAAOC,OAAOC,WACpClC,MAAM,UAFV,C,kBAIE,IAGC,EAHDC,EAAAA,EAAAA,GAGC,OAFI2B,IAAKY,EAAAA,cAAa,KAAOR,OAAOC,OAAOC,UACxCL,IAAI,eAFR,WAIA5B,EAAAA,EAAAA,GAEO,aAAAmC,EAAAA,EAAAA,IAAAA,KADGJ,OAAOC,OAAOC,UAAQ,M,KATlC,WAaAjC,EAAAA,EAAAA,GAA0C,UAAAmC,EAAAA,EAAAA,IAApC1B,EAAAA,SAASC,KAAK4B,iBAAe,OAlBrC,iBAiDI,aA7BJ9B,EAAAA,EAAAA,IA4BMa,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IA3BgBb,EAAAA,SAASC,KAAK8B,cAAzBC,K,WADXjC,EAAAA,EAAAA,IA4BM,OA1BDkB,IAAKe,EAAQC,UACd3C,MAAM,WAHV,EAMEY,EAAAA,EAAAA,IAGckB,EAAA,CAHAC,GAAE,YAAcW,EAAQE,gBAAiB5C,MAAM,UAA7D,C,kBACE,IAAqE,EAArEC,EAAAA,EAAAA,GAAqE,OAA/D2B,IAAKY,EAAAA,cAAeE,EAAQE,eAAiBf,IAAI,eAAvD,WACA5B,EAAAA,EAAAA,GAAwC,aAAAmC,EAAAA,EAAAA,IAA/BM,EAAQE,eAAa,M,KAFhC,cAKA3C,EAAAA,EAAAA,GAAgC,UAAAmC,EAAAA,EAAAA,IAA1BM,EAAQG,aAAW,IACzB5C,EAAAA,EAAAA,GAeS,UAdJ6C,QAAK,GAAEC,EAAAA,YAAYL,EAAQC,WAC5B3C,MAAM,SAFV,cAIES,EAAAA,EAAAA,IASM,OARFT,OAAK,SAAC,OAAM,aACawC,EAAAA,iBAAiBE,EAAQC,cAClDzC,MAAM,KACNC,OAAO,KACP,cAAY,OACZC,KAAK,OANT,OAUAH,EAAAA,EAAAA,GAAoD,aAAAmC,EAAAA,EAAAA,IAA3CM,EAAQM,aAAajC,QAAS,SAAM,IAd/C,UAZF,SA+BFd,EAAAA,EAAAA,GA6DM,MA7DN,EA6DM,EA5DJA,EAAAA,EAAAA,GA8CM,MA9CN,EA8CM,EA7CJA,EAAAA,EAAAA,GAiBS,UAhBJ6C,QAAK,eAAEC,EAAAA,SAASrC,EAAAA,SAASC,KAAKsC,SAC/BjD,MAAM,YACN,aAAW,aAHf,cAKES,EAAAA,EAAAA,IASM,OARDT,OAAK,sBAAoBwC,EAAAA,UAAU9B,EAAAA,SAASC,OACvC,SACNT,MAAM,KACNC,OAAO,KACP,cAAY,OACZC,KAAK,OANT,OAWAH,EAAAA,EAAAA,GAAuD,aAAAmC,EAAAA,EAAAA,IAA9C1B,EAAAA,SAASC,KAAKuC,UAAUnC,QAAS,SAAM,MAGlDH,EAAAA,EAAAA,IASckB,EAAA,CARTC,GAAE,KAAOC,OAAOmB,SACjBnD,MAAM,YACN,aAAW,gBAHf,C,kBAKE,IAEM,CAFNoD,GAGAnD,EAAAA,EAAAA,GAA6D,aAAAmC,EAAAA,EAAAA,IAApD1B,EAAAA,SAASC,KAAK8B,aAAa1B,QAAS,YAAS,M,KARxD,WAWAd,EAAAA,EAAAA,GAcS,UAbJ6C,QAAK,eAAEC,EAAAA,SAASrC,EAAAA,SAASC,KAAKsC,SAC/BjD,MAAM,YACN,aAAW,gBAHf,cAKES,EAAAA,EAAAA,IAQM,OAPDT,OAAK,qBAAoBwC,EAAAA,UAAU9B,EAAAA,SAASC,KAAKsC,UAClD/C,MAAM,KACNC,OAAO,KACP,cAAY,OACZC,KAAK,OALT,WAYJH,EAAAA,EAAAA,GAWM,MAXN,EAWM,WAVJA,EAAAA,EAAAA,GAIC,S,qCAHYS,EAAAA,aAAY2C,GACrBC,KAAK,OACLC,YAAY,yBAHhB,iBACa7C,EAAAA,iBAIbT,EAAAA,EAAAA,GAIS,UAHJ6C,QAAK,eAAEN,EAAAA,qBAAqB9B,EAAAA,SAASC,KAAKsC,UAC9C,oBA/IT,iB,+BA8JJ,GACEO,KAAM,WAENC,OACE,MAAO,CACLC,SAAU,GACVC,aAAc,KAIlBC,MAAO,CACLC,YAAa,WACXC,KAAKJ,SAAWI,KAAKD,YAAYC,KAAKD,YAAYE,WAAUC,GAAcA,EAAGrD,KAAKsC,SAAWgB,OAAOH,KAAK9B,OAAOC,OAAOiC,SAI3HC,WAAY,CACVC,OADU,KAEVC,YAAAA,EAAAA,IAGFC,QAAS,KACJC,EAAAA,EAAAA,IAAY,CAAC,kBACbC,EAAAA,EAAAA,IAAc,CACf,WACA,WACA,cACA,kBAGFC,UAAWf,GACT,OAAoG,IAA7FA,EAASR,UAAUa,WAAUC,GAAeA,IAAOF,KAAKY,mBAAmBxC,YAGpFyC,UAAW1B,GACT,OAAyF,IAAlFa,KAAKY,mBAAmBE,WAAWb,WAAUC,GAAeA,IAAOf,KAG5E4B,iBAAiBlC,GACf,IAAImC,GAAO,EASX,OAPAhB,KAAKD,YAAYkB,SAAQpE,IACvBA,EAAKA,KAAK8B,aAAasC,SAAQrC,IAC7B,IAAIsC,EAAiBtC,EAAQM,aAAae,WAAUkB,GAAeA,IAAQnB,KAAKY,mBAAmBxC,WAC9FQ,EAAQC,YAAcA,IAAmC,IAApBqC,IAAwBF,GAAO,SAItEA,GAGTI,qBAAqBjC,GACfa,KAAKH,aAAa5C,SACpB+C,KAAKqB,cAAe,CAClBlC,OAAQA,EACRJ,YAAaiB,KAAKH,eAEpBG,KAAKH,aAAe,KAIxByB,cAAclD,GACZ,IAAImD,EAAS,GAKb,OAHInD,IAAa4B,KAAKY,mBAAmBxC,SAAUmD,EAASvB,KAAKY,mBAAmBW,OAC/EvB,KAAKwB,aAAaP,SAAQf,IAAYA,EAAG9B,WAAaA,IAAUmD,EAASrB,EAAGqB,WAE1EA,IAIXE,SAAU,KACLC,EAAAA,EAAAA,IAAY,CACb,eACA,cACA,wBAIJC,QACE,MAAO,CACLzE,QAAS,CACP0E,EAAAA,GACAC,EAAAA,GACAC,EAAAA,MAKNC,UACE/B,KAAKgC,c,SCrPT,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://Instagram-vue/./src/pages/PostPage.vue","webpack://Instagram-vue/./src/pages/PostPage.vue?927b"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"full-post\" v-if=\"postData.post\">\r\n      <div class=\"full-post__content\">\r\n        <swiper class=\"swiper\"\r\n                :class=\"{'swiper_hidden-pagination': postData.post.postImages.length < 2}\"\r\n                :modules=\"modules\"\r\n                :slides-per-view=\"1\"\r\n                :space-between=\"50\"\r\n                navigation\r\n                :pagination=\"{ clickable: true }\"\r\n                keyboard\r\n        >\r\n          <swiper-slide\r\n              v-for=\"image in postData.post.postImages\"\r\n              :key=\"image\"\r\n          >\r\n            <img :src=\"image\" alt=\"post\">\r\n          </swiper-slide>\r\n        </swiper>\r\n      </div>\r\n\r\n      <div class=\"full-post__data\">\r\n        <router-link\r\n            :to=\"`/profile/${this.$route.params.nickname}`\"\r\n            class=\"profile-link\"\r\n        >\r\n          <div class=\"profile-link__info\">\r\n            <img :src=\"postData.authorAvatar\" alt=\"user-avatar\">\r\n            <p>{{ postData.author }}</p>\r\n          </div>\r\n          <svg width=\"24\" height=\"24\" aria-hidden=\"true\" role=\"img\">\r\n            <use xlink:href=\"#arrow-icon\"></use>\r\n          </svg>\r\n        </router-link>\r\n\r\n        <div class=\"comments\">\r\n          <div\r\n              class=\"comment\"\r\n              v-if=\"postData.post.postDescription !== ''\"\r\n              style=\"margin-bottom: 10px;\"\r\n          >\r\n            <router-link\r\n                :to=\"`/profile/${this.$route.params.nickname}`\"\r\n                class=\"author\"\r\n            >\r\n              <img\r\n                  :src=\"getUserAvatar( this.$route.params.nickname )\"\r\n                  alt=\"user avatar\"\r\n              >\r\n              <span>\r\n                {{ this.$route.params.nickname }}\r\n              </span>\r\n            </router-link>\r\n\r\n            <p>{{ postData.post.postDescription }}</p>\r\n          </div>\r\n          <div\r\n              v-for=\"comment in postData.post.postComments\"\r\n              :key=\"comment.commentId\"\r\n              class=\"comment\"\r\n          >\r\n\r\n            <router-link :to=\"`/profile/${comment.commentAuthor}`\" class=\"author\">\r\n              <img :src=\"getUserAvatar( comment.commentAuthor )\" alt=\"user avatar\">\r\n              <span>{{ comment.commentAuthor }}</span>\r\n            </router-link>\r\n\r\n            <p>{{ comment.commentText }}</p>\r\n            <button\r\n                @click=\"commentLike(comment.commentId)\"\r\n                class=\"likes\"\r\n            >\r\n              <svg\r\n                  class=\"like\"\r\n                  :class=\"{'like_active' : commentLikeCheck(comment.commentId)}\"\r\n                  width=\"14\"\r\n                  height=\"12\"\r\n                  aria-hidden=\"true\"\r\n                  role=\"img\"\r\n              >\r\n                <use xlink:href=\"#like-icon\"></use>\r\n              </svg>\r\n              <span>{{ comment.commentLikes.length }} likes</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"comments-footer\">\r\n          <div class=\"bar\">\r\n            <button\r\n                @click=\"postLike(postData.post.postId)\"\r\n                class=\"bar__item\"\r\n                aria-label=\"Like post\"\r\n            >\r\n              <svg\r\n                  :class=\"{ 'like_active' : likeCheck(postData.post) }\"\r\n                  class=\"like\"\r\n                  width=\"26\"\r\n                  height=\"24\"\r\n                  aria-hidden=\"true\"\r\n                  role=\"img\"\r\n              >\r\n                <use xlink:href=\"#like-icon\"></use>\r\n              </svg>\r\n\r\n              <span>{{ postData.post.postLikes.length }} likes</span>\r\n            </button>\r\n\r\n            <router-link\r\n                :to=\"this.$route.fullPath\"\r\n                class=\"bar__item\"\r\n                aria-label=\"Comment post\"\r\n            >\r\n              <svg width=\"24\" height=\"24\" aria-hidden=\"true\" role=\"img\">\r\n                <use xlink:href=\"#comment-icon\"></use>\r\n              </svg>\r\n              <span>{{ postData.post.postComments.length }} comments</span>\r\n            </router-link>\r\n\r\n            <button\r\n                @click=\"postSave(postData.post.postId)\"\r\n                class=\"bar__item\"\r\n                aria-label=\"Comment post\"\r\n            >\r\n              <svg\r\n                  :class=\"{ 'save_active' : saveCheck(postData.post.postId) }\"\r\n                  width=\"24\"\r\n                  height=\"24\"\r\n                  aria-hidden=\"true\"\r\n                  role=\"img\"\r\n              >\r\n                <use xlink:href=\"#save-icon\"></use>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          <div class=\"form\">\r\n            <input\r\n                v-model=\"commentInput\"\r\n                type=\"text\"\r\n                placeholder=\"Enter your comment...\"\r\n            >\r\n            <button\r\n                @click=\"addNewCommentHandler(postData.post.postId)\"\r\n            >\r\n              Post\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Navigation, Pagination, Keyboard } from 'swiper';\r\nimport { Swiper, SwiperSlide } from 'swiper/vue';\r\nimport { mapActions, mapGetters, mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"PostPage\",\r\n\r\n  data() {\r\n    return {\r\n      postData: {},\r\n      commentInput: \"\"\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    getAllPosts: function() {\r\n      this.postData = this.getAllPosts[this.getAllPosts.findIndex(el => {return el.post.postId === Number(this.$route.params.id)})]\r\n    }\r\n  },\r\n\r\n  components: {\r\n    Swiper,\r\n    SwiperSlide,\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions( ['fetchData'] ),\r\n    ...mapMutations( [\r\n      'postLike',\r\n      'postSave',\r\n      'commentLike',\r\n      'addNewComment'\r\n    ] ),\r\n\r\n    likeCheck( postData ) {\r\n      return postData.postLikes.findIndex(el => { return el === this.getCurrentUserData.nickname; }) !== -1;\r\n    },\r\n\r\n    saveCheck( postId ) {\r\n      return this.getCurrentUserData.savedPosts.findIndex(el => { return el === postId }) !== -1;\r\n    },\r\n\r\n    commentLikeCheck(commentId) {\r\n      let bool = true;\r\n\r\n      this.getAllPosts.forEach(post => {\r\n        post.post.postComments.forEach(comment => {\r\n          let currentUserIdx = comment.commentLikes.findIndex(idx => {return idx === this.getCurrentUserData.nickname});\r\n          if ((comment.commentId === commentId) && (currentUserIdx === -1)) bool = false;\r\n        })\r\n      })\r\n\r\n      return bool;\r\n    },\r\n\r\n    addNewCommentHandler(postId) {\r\n      if (this.commentInput.length) {\r\n        this.addNewComment( {\r\n          postId: postId,\r\n          commentText: this.commentInput,\r\n        } );\r\n        this.commentInput = \"\";\r\n      }\r\n    },\r\n\r\n    getUserAvatar(nickname) {\r\n      let avatar = \"\";\r\n\r\n      if (nickname === this.getCurrentUserData.nickname) avatar = this.getCurrentUserData.avatar;\r\n      else this.getUsersData.forEach(el => { if (el.nickname === nickname) avatar = el.avatar; })\r\n\r\n      return avatar;\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters( [\r\n      'getUsersData',\r\n      'getAllPosts',\r\n      'getCurrentUserData'\r\n    ] )\r\n  },\r\n\r\n  setup() {\r\n    return {\r\n      modules: [\r\n        Navigation,\r\n        Pagination,\r\n        Keyboard\r\n      ]\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.fetchData();\r\n  },\r\n\r\n}\r\n</script>","import { render } from \"./PostPage.vue?vue&type=template&id=192df192\"\nimport script from \"./PostPage.vue?vue&type=script&lang=js\"\nexport * from \"./PostPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Job\\\\Github\\\\instagram-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","width","height","role","style","_hoisted_14","_hoisted_18","_hoisted_21","_createElementBlock","$data","post","_createVNode","_component_swiper","postImages","length","modules","$setup","navigation","pagination","clickable","keyboard","_Fragment","_renderList","image","_createBlock","_component_swiper_slide","key","src","alt","_component_router_link","to","$route","params","nickname","authorAvatar","_toDisplayString","author","_hoisted_8","postDescription","$options","postComments","comment","commentId","commentAuthor","commentText","onClick","_ctx","commentLikes","postId","postLikes","fullPath","_hoisted_20","$event","type","placeholder","name","data","postData","commentInput","watch","getAllPosts","this","findIndex","el","Number","id","components","Swiper","SwiperSlide","methods","mapActions","mapMutations","likeCheck","getCurrentUserData","saveCheck","savedPosts","commentLikeCheck","bool","forEach","currentUserIdx","idx","addNewCommentHandler","addNewComment","getUserAvatar","avatar","getUsersData","computed","mapGetters","setup","Navigation","Pagination","Keyboard","mounted","fetchData","__exports__","render"],"sourceRoot":""}